(function($){$(document).ready(function(){"use strict";if(window.matchMedia("(max-width: 480px)").matches){$('.deft-primary-menu').prependTo('#parent');$('.mobile-menu-icon').prependTo('#parent');$('.deft-nav a').on('click',function(){$(this).parents('.deft-primary-menu').toggleClass('visible');$('.mobile-menu-icon').children('i').toggleClass('fa-bars');$('.mobile-menu-icon').children('i').toggleClass('ion-close-round');});}
function link_is_external(link_element){return(link_element.host!==window.location.host);}
NProgress.configure({showSpinner:false});function ChangeUrl(page,url){if(typeof(history.pushState)!="undefined"){var obj={Page:page,Url:url};window.history.pushState(obj,obj.Page,obj.Url);}}
var $content=$('.content-container');window.onpopstate=function(event){var link=document.location;getAjaxContent(link,$content);getTitleTag(link);};$('.current_page_item').addClass('h_active');jQuery(document).ready(function($){$('a').filter('[href^="http"], [href^="//"]').not('[href*="'+window.location.host+'"]').attr('rel','noopener noreferrer').attr('target','_blank');});$('.ajax-anchorTag a[href^="http"]').live('click',function(e){if(!link_is_external(this)){e.preventDefault();$('.content-container').addClass('animate-container');var $url=$(this).attr('href');ChangeUrl('url',$url);var link=jQuery(this).attr('href');getAjaxContent(link,$content);getTitleTag(link);}});var xhr=null;var getAjaxContent=function(link,$content){if(xhr!=null){xhr.abort();xhr=null;}
xhr=$.ajax({type:'POST',url:link,beforeSend:function(){NProgress.start();},complete:function(){setTimeout(function(){$('#rightContent').mCustomScrollbar("scrollTo",'top',{scrollInertia:0,});},100);},success:function(data){$content.html($(data).find('.content'));post_img_holder();masonry_item();owl_carousel();initPhotoSwipeFromDOM('.my-gallery');isLightbox();var wpcf7_form=document.getElementsByClassName('wpcf7-form');[].forEach.call(wpcf7_form,function(form){wpcf7.initForm(form);});$('.deft-nav a').each(function(){if($(this).attr('href')==window.location.href){$(this).parent().addClass('h_active');$(this).parent().siblings().removeClass('h_active');}});$('.content').imagesLoaded(function(){NProgress.done();setTimeout(function(){$('.content-container').removeClass('animate-container');},200);});},fail:function(){}});}
function getTitleTag(link){$.ajax({url:link,type:'GET',success:function(response){var matches=$(response).filter('title').text();$(document).prop('title',matches);}});}
$("#rightContent").mCustomScrollbar({axis:"y",theme:"minimal-dark",scrollbarPosition:'outside',scrollInertia:120,setHeight:'100%',setTop:0,});$("#rightContent").mCustomScrollbar({}).on("mouseenter",function(){$(this).find("iframe").css("pointer-events","none");}).on("mouseup",function(){if(!$(this).find(".mCSB_scrollTools_onDrag").length)return;setTimeout(function(){$("#rightContent").trigger("mouseenter");},1);});$(window).on("blur",function(){$("#rightContent iframe").css("pointer-events","auto");}).on("focus",function(){$("#rightContent").trigger("mouseenter");});var is_mobile=deft_ajax.is_mobile;if(is_mobile==1){$('#rightContent').mCustomScrollbar("destroy");$('#rightContent').css("overflow-y",'scroll');}
function isLightbox(){if($isLightBox){$('img').each(function(){var $imgAlt=$(this).attr("alt");var checkSwipe=$(this).parent('a').attr('itemprop');if(!checkSwipe){$(this).parent('a').attr('data-lightbox',$imgAlt);}});}}isLightbox();$('#nav-icon1,#nav-icon2,#nav-icon3,#nav-icon4').click(function(){$(this).toggleClass('open');});function masonry_item(){var $grid=$('.deft-posts-container').imagesLoaded(function(){$grid.masonry({itemSelector:'.grid-item',});});var $project=$('.my-gallery').imagesLoaded(function(){$project.masonry({itemSelector:'.item',});});}masonry_item();function owl_carousel(){function getItem(){var item=$('.owl-carousel').attr("showItem");return item;}
function displaynav(){var displaynav=$('.owl-carousel').attr("displaynav");if(displaynav=='true'){return true;}else if(displaynav=='false'){return false;}}
function autowidth(){var autowidth=$('.owl-carousel').attr("autowidth");if(autowidth=='true'){return true;}else if(autowidth=='false'){return false;}}
function getItemMargin(){var margin=$('.owl-carousel').attr("margin");return parseInt(margin);}
$('.owl-carousel').owlCarousel({items:getItem(),margin:getItemMargin(),dots:false,nav:displaynav(),autoWidth:autowidth(),navClass:['owl-prev fa fa-angle-left','owl-next fa fa-angle-right'],navText:false,responsiveClass:true,responsive:{0:{items:1,},768:{items:2,},1000:{items:getItem(),},}});}owl_carousel();$(".animsition").animsition({inClass:'fade-in',outClass:'fade-out',inDuration:300,outDuration:800,linkElement:'.a-link',loading:true,loadingParentElement:'body',loadingClass:'animsition-loading',loadingInner:'',timeout:false,timeoutCountdown:5000,onLoadEvent:true,browser:['animation-duration','-webkit-animation-duration'],overlay:false,overlayClass:'animsition-overlay-slide',overlayParentElement:'body',transition:function(url){window.location.href=url;}});$('body').on('animsition.inEnd',function(){$("#leftSide").addClass('instate');});$(function(){var map=document.getElementById('map');var mapToggle=document.getElementById('mapToggle');var btnSwitch=$(mapToggle).children('#switch');var home=document.getElementById('home');var midAnimate=$(home).find('.mid');var slowAnimate=$(home).find('.slow');function toggleMap(mapToggle,btnSwitch,map,home,midAnimate,slowAnimate){$(btnSwitch).toggleClass('active');$(map).toggleClass('active');$(home).toggleClass('hidden');$(midAnimate).removeClass('mid');$(slowAnimate).removeClass('slow');}
$(mapToggle).on('click',function(event){event.preventDefault();if(event.target.hash==='#toggle'){toggleMap(mapToggle,btnSwitch,map,home,midAnimate,slowAnimate);}});});$(function(){var parent=document.getElementById('parent');var leftSide=$(parent).children('#leftSide');var navMenu=$(leftSide).find('#navMenu');var subscribe=$(parent).children('#subscribe');var rightSide=$(parent).children('#rightSide');var rightContent=$(rightSide).children('#rightContent');var moreInfoBtn=$(parent).find('#info');var closeBtn=$('<a href="#closesub"><i class="close-btn ion-close-round"></i></a>');var subOverlay=$('<div class="sub_overlay"></div>');var mobileMenuIcon=$('.mobile-menu-icon');var deftNavParent=('.deft-primary-menu');var deftNav=$('.deft-nav');function showMobileNav(e,mobileMenuIcon,deftNav,deftNavParent){e.preventDefault();$(deftNavParent).toggleClass('visible');$(deftNav).children
$(mobileMenuIcon).children('i').toggleClass('fa-bars');$(mobileMenuIcon).children('i').toggleClass('ion-close-round');}
function showSubscribe(event,leftSide,subscribe,closeBtn){event.preventDefault();$(subscribe).addClass('fadeup');$(subOverlay).toggleClass('visible');$(subOverlay).on('click',function(){$(this).removeClass('visible');$(subscribe).removeClass('fadeup');});$(closeBtn).on('click',function(event){event.preventDefault();$(subscribe).removeClass('fadeup');$(subOverlay).removeClass('visible');});}
function enableInformation(leftSide,navMenu,rightSide,rightContent,moreInfoBtn){$(leftSide).addClass('drag');if($(parent).children('.main-logo.fixed')){$(parent).children('.main-logo.fixed').toggleClass('hidden');}
$(navMenu).addClass('visible');$(rightSide).addClass('expand');$(rightContent).addClass('showcontent');$(moreInfoBtn).children('i').toggleClass('ion-navicon-round');$(moreInfoBtn).children('i').toggleClass('ion-close-round');}
function showContent(event,leftSide,navMenu,rightSide,rightContent,moreInfoBtn){event.preventDefault();$(leftSide).toggleClass('drag');if($(parent).children('.main-logo.fixed')){$(parent).children('.main-logo.fixed').toggleClass('hidden');}
$(navMenu).toggleClass('visible');$(rightSide).toggleClass('expand');$(rightContent).toggleClass('showcontent');$(moreInfoBtn).children('i').toggleClass('ion-navicon-round');$(moreInfoBtn).children('i').toggleClass('ion-close-round');}
function addingContent(moreInfoBtn,subscribe,closeBtn,subOverlay){var infoIcon=$('<i class="ion-navicon-round menu pr10"></i>');if($(moreInfoBtn).hasClass('btn-solid')||$(moreInfoBtn).hasClass('round')){$(moreInfoBtn).prepend(infoIcon);}
$(subscribe).children('.border').prepend(closeBtn);$(subscribe).before(subOverlay);}addingContent(moreInfoBtn,subscribe,closeBtn,subOverlay)
$(parent).on('click',function(event){if(event.target.hash==='#info'||event.target.classList.contains('menu')){showContent(event,leftSide,navMenu,rightSide,rightContent,moreInfoBtn);}else if(event.target.hash==='#subscribe'||event.target.classList.contains('subs')){showSubscribe(event,leftSide,subscribe,closeBtn);}else if(event.target.hash==='#menu'||event.target.classList.contains('menu')){showMobileNav(event,mobileMenuIcon,deftNav,deftNavParent);}});if(!deft_ajax.is_front_page&&window.matchMedia('(min-width: 1025px)').matches){enableInformation(leftSide,navMenu,rightSide,rightContent,moreInfoBtn);}});var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
item.el=figureEl;items.push(item);}
return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
nodeIndex++;}
if(index>=0){openPhotoSwipe(index,clickedGallery);}
return false;};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
var pair=vars[i].split('=');if(pair.length<2){continue;}
params[pair[0]]=pair[1];}
if(params.gid){params.gid=parseInt(params.gid,10);}
return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={history:false,galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};}};if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
if(isNaN(options.index)){return;}
if(disableAnimation){options.showAnimationDuration=0;}
gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
var hashData=photoswipeParseHash();if(hashData.pid&&hashData.gid){openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],true,true);}};initPhotoSwipeFromDOM('.my-gallery');$(function(){$('.background-img-holder').each(function(){var $imgSrc=$(this).children("img").attr("src");$(this).children("img").hide();$(this).css('background','url("'+$imgSrc+'")');$(this).css('background-size','cover');$(this).css('background-position','center');$(this).css('height','100%');});});function post_img_holder(){$('.post-img-holder').each(function(){var $imgSrc=$(this).children("img").attr("src");$(this).children("img").hide();$(this).css('background','url("'+$imgSrc+'")');$(this).css('background-size','cover');$(this).css('background-position','center');$(this).css('height','100%');});}post_img_holder();$('#timerTwo').countdown($('#timerTwo').attr("data-date")).on('update.countdown',function(event){var $this=$(this).html(event.strftime(''
+'<div class="clock-box"><span class="simple">%-D</span>days  </div>'
+'<div class="clock-box"><span class="simple"> %H</span>h  </div>'
+'<div class="clock-box"><span class="simple"> %M</span>m  </div>'));});$(function(){ajaxMailChimpForm($("#subscribe-form"),$("#subscribe-result"));function ajaxMailChimpForm($form,$resultElement){$form.submit(function(e){e.preventDefault();if(!isValidEmail($form)){var error="A valid email address must be provided. Please check it and try again.";$resultElement.removeClass('success');setTimeout(function(){$resultElement.addClass('error');$resultElement.html(error);},150);setTimeout(function(){$resultElement.removeClass('error');},2500);}else{$resultElement.removeClass('success');$resultElement.removeClass('error');setTimeout(function(){if($('#subscribe').hasClass('vertical')){$('body').prepend('<div class="loading"></div>');}else{$('#subscribe').append('<div class="loading"></div>');}
submitSubscribeForm($form,$resultElement);},150);}});}
function isValidEmail($form){var email=$form.find("input[type='email']").val();if(!email||!email.length){return false;}else if(email.indexOf("@")==-1){return false;}
return true;}
function submitSubscribeForm($form,$resultElement){$.ajax({type:"GET",url:$form.attr("action"),data:$form.serialize(),cache:false,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",error:function(error){$resultElement.removeClass('success');setTimeout(function(){$resultElement.addClass('error');},800);setTimeout(function(){$resultElement.removeClass('error');},2500);},success:function(data){if(data.result!="success"){var message=data.msg||"Sorry. Unable to subscribe. Please try again later.";if(data.msg&&data.msg.indexOf("already subscribed")>=0){message="You're already subscribed. Thank you.";}
$resultElement.removeClass('error');$('#subscribe').children('.loading').remove();$('body').children('.loading').remove();setTimeout(function(){$resultElement.addClass('success');$resultElement.html(message);},150);setTimeout(function(){$resultElement.removeClass('success');},2500);}else{$resultElement.removeClass('error');$('#subscribe').children('.loading').remove();$('body').children('.loading').remove();setTimeout(function(){$resultElement.addClass('success');$resultElement.html("Thank you! You must confirm the subscription in your inbox.");},150);setTimeout(function(){$resultElement.removeClass('success');},2500);}}});}});});})(jQuery);